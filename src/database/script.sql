
DROP DATABASE IF EXISTS Helpers;
CREATE DATABASE Helpers;
USE Helpers;

CREATE TABLE Empresa (
    idEmpresa INT PRIMARY KEY AUTO_INCREMENT,
    razaoSocial VARCHAR(45) NOT NULL,
    CNPJ CHAR(14) UNIQUE NOT NULL,
    telefone CHAR(11),    
    responsavel VARCHAR(45) NOT NULL
);

CREATE TABLE Usuario (
idUsuario INT PRIMARY KEY AUTO_INCREMENT,
userName VARCHAR(45) NOT NULL,
senha VARCHAR(45) NOT NULL,
email VARCHAR(100) NOT NULL,
fkEmpresa INT,
CONSTRAINT fkUsuarioEmpresa FOREIGN KEY (fkEmpresa) REFERENCES Empresa(idEmpresa)
);

CREATE TABLE Endereco (
    idEndereco INT PRIMARY KEY AUTO_INCREMENT,
    CEP CHAR(8),
    Logradouro VARCHAR(100),
    Numero VARCHAR(45),
    Complemento VARCHAR(45),
    Bairro VARCHAR(45),
    Cidade VARCHAR(45),
    Estado VARCHAR(45),
    fkEmpresaEnd INT,
    CONSTRAINT fkEmpresaEnd FOREIGN KEY (fkEmpresaEnd) REFERENCES Empresa (idEmpresa)
);

CREATE TABLE Acesso (
    idAcesso INT PRIMARY KEY AUTO_INCREMENT,
    dataHora DATETIME DEFAULT CURRENT_TIMESTAMP,
    fkUsuario INT,
    CONSTRAINT fkAcessoUsuario FOREIGN KEY (fkUsuario) REFERENCES Usuario (idUsuario)
);

CREATE TABLE Setor(
idSetor INT PRIMARY KEY AUTO_INCREMENT,
Nome VARCHAR(45),
fkEmpresa INT,
CONSTRAINT fkSetorEmpresa FOREIGN KEY (fkEmpresa)
	REFERENCES Empresa(idEmpresa)
);

CREATE TABLE Maquina (
    idMaquina INT PRIMARY KEY AUTO_INCREMENT,
    Nome VARCHAR(45),
    Tipo VARCHAR(45),
    tempMax DECIMAL(5, 2),
    tempMinima DECIMAL (5, 2),
    fkSetor INT,
    CONSTRAINT fkMaquinaSetor FOREIGN KEY (fkSetor) REFERENCES Setor(idSetor)
);

CREATE TABLE Registro (
    idRegistro INT PRIMARY KEY AUTO_INCREMENT,
    dataHora DATETIME DEFAULT CURRENT_TIMESTAMP,
    Temperatura FLOAT,
    fkMaquina INT,
    CONSTRAINT fkRegistroMaquina FOREIGN KEY (fkMaquina) REFERENCES Maquina(idMaquina)
);
CREATE TABLE Contato (
idContato INT PRIMARY KEY AUTO_INCREMENT,
Nome VARCHAR(45),
Email VARCHAR(100),
Mensagem VARCHAR(240)
);

CREATE VIEW RegistroMaquina
as
SELECT r.temperatura as Temperatura, r.dataHora as Horário, m.nome as Máquina, fkMaquina, fkSetor,
CASE
WHEN Temperatura < 100
THEN 'Resfriamento'
WHEN Temperatura < 140
THEN 'OK'
ELSE 'Superaquecimento'
END AS Stats
FROM Registro as r
JOIN Maquina as m
ON r.fkMaquina = m.idMaquina;


INSERT INTO Empresa (razaoSocial, CNPJ, telefone, responsavel
) VALUES
('Empresa A', '12345678000195', '1234567890',  'João Silva'),
('Empresa B', '98765432000198', '0987654321',  'Maria Oliveira'),
('Empresa C', '11223344000199', '1122334455', 'Carlos Pereira'),
('Empresa D', '22334455000188', '2233445566', 'Ana Souza'),
('Empresa E', '33445566000177', '3344556677', 'Roberto Lima'),
('Empresa F', '44556677000166', '4455667788', 'Fernanda Alves'),
('Empresa G', '55667788000155', '5566778899', 'Paulo Santos');

INSERT INTO Usuario (email, userName, senha, fkEmpresa) VALUES
('contato@empresaa.com', 'Usuario1', 'Urubu@100',1),
('contato@empresab.com', 'Usuario2', 'Urubu@200',2),
('contato@empresac.com', 'Usuario3', 'Urubu@300', 3),
('contato@empresad.com', 'Usuario4', 'Urubu@400', 4),
('contato@empresae.com', 'Usuario5', 'Urubu@500', 5),
('contato@empresaf.com', 'Usuario6', 'Urubu@600', 6),
('contato@empresag.com', 'Usuario7', 'Urubu@700', 7);


SELECT idUsuario, email, userName, razaoSocial FROM Usuario
        JOIN Empresa
        ON fkEmpresa = idEmpresa
        WHERE email = 'contato@empresab.com' AND senha = 'Urubu@200';



INSERT INTO Endereco (CEP, Logradouro, Numero, Complemento, Bairro, Cidade, Estado, fkEmpresaEnd) VALUES
('12345678', 'Rua A', '100', 'Apto 101', 'Bairro A', 'Cidade A', 'Estado A', 1),
('87654321', 'Rua B', '200', '', 'Bairro B', 'Cidade B', 'Estado B', 2),
('11223344', 'Travessa C', '300', 'Casa 3', 'Bela Vista', 'Belo Horizonte', 'MG', 3),
('44332211', 'Alameda D', '400', 'Sala 4', 'Copacabana', 'Curitiba', 'PR', 4),
('55667788', 'Praça E', '500', 'Loja 5', 'Liberdade', 'Porto Alegre', 'RS', 5),
('99887766', 'Estrada F', '600', 'Galpão 6', 'Moema', 'Florianópolis', 'SC', 6),
('66778899', 'Rodovia G', '700', 'Km 7', 'Pinheiros', 'Salvador', 'BA', 7);


select * from acesso;

INSERT INTO Setor (Nome, fkEmpresa) VALUES
('Setor A', 1),
('Setor B', 1),
('Setor C', 1),
('Setor D', 2),
('Setor E', 2),
('Setor F', 2),
('Setor G', 3),
('Setor H', 3),
('Setor I', 3),
('Setor J', 4),
('Setor K', 4),
('Setor L', 4),
('Setor M', 5),
('Setor N', 5),
('Setor O', 5),
('Setor P', 6),
('Setor Q', 6),
('Setor R', 6),
('Setor S', 7),
('Setor T', 7),
('Setor U', 7);

INSERT INTO Maquina (Nome, Tipo, tempMax, tempMinima, fkSetor) VALUES
('Máquina 1', 'Tipo A', 150.00, 100.00, 1),
('Máquina 2', 'Tipo B', 150.00, 100.00, 1),
('Máquina 3', 'Tipo C', 150.00, 100.00, 1),
('Máquina 4', 'Tipo A', 150.00, 100.00, 1),
('Máquina 5', 'Tipo B', 150.00, 100.00, 1),
('Máquina 6', 'Tipo C', 150.00, 100.00, 2),
('Máquina 7', 'Tipo A', 150.00, 100.00, 2),
('Máquina 8', 'Tipo B', 150.00, 100.00, 2),
('Máquina 9', 'Tipo C', 150.00, 100.00, 2),
('Máquina 10', 'Tipo A', 150.00, 100.00, 2),
('Máquina 11', 'Tipo B', 150.00, 100.00, 3),
('Máquina 12', 'Tipo C', 150.00, 100.00, 3),
('Máquina 13', 'Tipo A', 150.00, 100.00, 3),
('Máquina 14', 'Tipo B', 150.00, 100.00, 3),
('Máquina 15', 'Tipo C', 150.00, 100.00, 3),
('Máquina 16', 'Tipo A', 150.00, 100.00, 4),
('Máquina 17', 'Tipo B', 150.00, 100.00, 4),
('Máquina 18', 'Tipo C', 150.00, 100.00, 4),
('Máquina 19', 'Tipo A', 150.00, 100.00, 4),
('Máquina 20', 'Tipo B', 150.00, 100.00, 4),
('Máquina 21', 'Tipo C', 150.00, 100.00, 5),
('Máquina 22', 'Tipo A', 150.00, 100.00, 5),
('Máquina 23', 'Tipo B', 150.00, 100.00, 5),
('Máquina 24', 'Tipo C', 150.00, 100.00, 5),
('Máquina 25', 'Tipo A', 150.00, 100.00, 5),
('Máquina 26', 'Tipo B', 150.00, 100.00, 6),
('Máquina 27', 'Tipo C', 150.00, 100.00, 6),
('Máquina 28', 'Tipo A', 150.00, 100.00, 6),
('Máquina 29', 'Tipo B', 150.00, 100.00, 6),
('Máquina 30', 'Tipo C', 150.00, 100.00, 6),
('Máquina 31', 'Tipo A', 150.00, 100.00, 7),
('Máquina 32', 'Tipo B', 150.00, 100.00, 7),
('Máquina 33', 'Tipo C', 150.00, 100.00, 7),
('Máquina 34', 'Tipo A', 150.00, 100.00, 7),
('Máquina 35', 'Tipo B', 150.00, 100.00, 7);

INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-15 09:00:00', 110.2, 1),
('2024-01-15 09:05:00', 112.1, 1),
('2024-01-15 09:10:00', 115.5, 1),
('2024-01-15 09:15:00', 118.8, 1),
('2024-01-15 09:20:00', 120.2, 1),
('2024-01-15 09:25:00', 122.1, 1),
('2024-01-15 09:00:00', 158.4, 2),
('2024-01-15 09:05:00', 167.7, 2),
('2024-01-15 09:10:00', 170.9, 2),
('2024-01-15 09:15:00', 177.2, 2),
('2024-01-15 09:20:00', 183.6, 2),
('2024-01-15 09:25:00', 190.3, 2),
('2024-01-15 09:00:00', 100.3, 3),
('2024-01-15 09:05:00', 95.4, 3),
('2024-01-15 09:10:00', 91.1, 3),
('2024-01-15 09:15:00', 83.2, 3),
('2024-01-15 09:20:00', 69.7, 3),
('2024-01-15 09:25:00', 55.9, 3),
('2024-01-15 09:00:00', 125.7, 4),
('2024-01-15 09:05:00', 127.4, 4),
('2024-01-15 09:10:00', 130.6, 4),
('2024-01-15 09:15:00', 132.9, 4),
('2024-01-15 09:20:00', 135.3, 4),
('2024-01-15 09:25:00', 138.1, 4),
('2024-01-15 09:00:00', 110.4, 5),
('2024-01-15 09:05:00', 112.7, 5),
('2024-01-15 09:10:00', 115.9, 5),
('2024-01-15 09:15:00', 118.6, 5),
('2024-01-15 09:20:00', 120.1, 5),
('2024-01-15 09:25:00', 122.5, 5),
('2024-01-15 09:00:00', 125.8, 6),
('2024-01-15 09:05:00', 127.3, 6),
('2024-01-15 09:10:00', 130.4, 6),
('2024-01-15 09:15:00', 132.6, 6),
('2024-01-15 09:20:00', 135.7, 6),
('2024-01-15 09:25:00', 138.0, 6),
('2024-01-15 09:00:00', 110.9, 7),
('2024-01-15 09:05:00', 112.2, 7),
('2024-01-15 09:10:00', 115.3, 7),
('2024-01-15 09:15:00', 118.4, 7),
('2024-01-15 09:20:00', 120.6, 7),
('2024-01-15 09:25:00', 122.9, 7),
('2024-01-15 09:00:00', 125.9, 8),
('2024-01-15 09:05:00', 127.0, 8),
('2024-01-15 09:10:00', 130.0, 8),
('2024-01-15 09:15:00', 132.0, 8),
('2024-01-15 09:20:00', 135.0, 8),
('2024-01-15 09:25:00', 138.0, 8),
('2024-01-15 09:00:00', 110.5, 9),
('2024-01-15 09:05:00', 112.3, 9),
('2024-01-15 09:10:00', 115.7, 9),
('2024-01-15 09:15:00', 118.9, 9),
('2024-01-15 09:20:00', 120.4, 9),
('2024-01-15 09:25:00', 122.8, 9),
('2024-01-15 09:00:00', 125.1, 10),
('2024-01-15 09:05:00', 127.6, 10),
('2024-01-15 09:10:00', 130.3, 10),
('2024-01-15 09:15:00', 132.7, 10),
('2024-01-15 09:20:00', 135.4, 10),
('2024-01-15 09:25:00', 138.2, 10),
('2024-01-15 09:00:00', 110.6, 11),
('2024-01-15 09:05:00', 112.9, 11),
('2024-01-15 09:10:00', 115.2, 11),
('2024-01-15 09:15:00', 118.5, 11),
('2024-01-15 09:20:00', 120.8, 11),
('2024-01-15 09:25:00', 122.3, 11),
('2024-01-15 09:00:00', 125.7, 12),
('2024-01-15 09:05:00', 127.4, 12),
('2024-01-15 09:10:00', 130.6, 12),
('2024-01-15 09:15:00', 132.9, 12),
('2024-01-15 09:20:00', 135.3, 12),
('2024-01-15 09:25:00', 138.1, 12),
('2024-01-15 09:00:00', 110.4, 13),
('2024-01-15 09:05:00', 112.7, 13),
('2024-01-15 09:10:00', 115.9, 13),
('2024-01-15 09:15:00', 118.6, 13),
('2024-01-15 09:20:00', 120.1, 13),
('2024-01-15 09:25:00', 122.5, 13),
('2024-01-15 09:00:00', 125.8, 14),
('2024-01-15 09:05:00', 127.3, 14),
('2024-01-15 09:10:00', 130.4, 14),
('2024-01-15 09:15:00', 132.6, 14),
('2024-01-15 09:20:00', 135.7, 14),
('2024-01-15 09:25:00', 138.0, 14),
('2024-01-15 09:00:00', 110.9, 15),
('2024-01-15 09:05:00', 112.2, 15),
('2024-01-15 09:10:00', 115.3, 15),
('2024-01-15 09:15:00', 118.4, 15),
('2024-01-15 09:20:00', 120.6, 15),
('2024-01-15 09:25:00', 122.9, 15),
('2024-01-15 09:00:00', 125.5, 16),
('2024-01-15 09:05:00', 127.8, 16),
('2024-01-15 09:10:00', 130.7, 16),
('2024-01-15 09:15:00', 132.4, 16),
('2024-01-15 09:20:00', 135.9, 16),
('2024-01-15 09:25:00', 138.5, 16),
('2024-01-15 09:00:00', 110.8, 17),
('2024-01-15 09:05:00', 112.5, 17),
('2024-01-15 09:10:00', 115.8, 17),
('2024-01-15 09:15:00', 118.7, 17),
('2024-01-15 09:20:00', 120.2, 17),
('2024-01-15 09:25:00', 122.6, 17),
('2024-01-15 09:00:00', 125.4, 18),
('2024-01-15 09:05:00', 127.1, 18),
('2024-01-15 09:10:00', 130.5, 18),
('2024-01-15 09:15:00', 132.3, 18),
('2024-01-15 09:20:00', 135.2, 18),
('2024-01-15 09:25:00', 138.6, 18),
('2024-01-15 09:00:00', 110.1, 19),
('2024-01-15 09:05:00', 112.4, 19),
('2024-01-15 09:10:00', 115.6, 19),
('2024-01-15 09:15:00', 118.3, 19),
('2024-01-15 09:20:00', 120.5, 19),
('2024-01-15 09:25:00', 122.7, 19),
('2024-01-15 09:00:00', 125.3, 20),
('2024-01-15 09:05:00', 127.2, 20),
('2024-01-15 09:10:00', 130.8, 20),
('2024-01-15 09:15:00', 132.1, 20),
('2024-01-15 09:20:00', 135.5, 20),
('2024-01-15 09:25:00', 138.7, 20),
('2024-01-15 09:00:00', 110.0, 21),
('2024-01-15 09:05:00', 112.8, 21),
('2024-01-15 09:10:00', 115.4, 21),
('2024-01-15 09:15:00', 118.1, 21),
('2024-01-15 09:20:00', 120.0, 21),
('2024-01-15 09:25:00', 122.2, 21),
('2024-01-15 09:00:00', 125.9, 22),
('2024-01-15 09:05:00', 127.0, 22),
('2024-01-15 09:10:00', 130.0, 22),
('2024-01-15 09:15:00', 132.0, 22),
('2024-01-15 09:20:00', 135.0, 22),
('2024-01-15 09:25:00', 138.0, 22),
('2024-01-15 09:00:00', 110.5, 23),
('2024-01-15 09:05:00', 112.3, 23),
('2024-01-15 09:10:00', 115.7, 23),
('2024-01-15 09:15:00', 118.9, 23),
('2024-01-15 09:20:00', 120.4, 23),
('2024-01-15 09:25:00', 122.8, 23),
('2024-01-15 09:00:00', 125.1, 24),
('2024-01-15 09:05:00', 127.6, 24),
('2024-01-15 09:10:00', 130.3, 24),
('2024-01-15 09:15:00', 132.7, 24),
('2024-01-15 09:20:00', 135.4, 24),
('2024-01-15 09:25:00', 138.2, 24),
('2024-01-15 09:00:00', 110.6, 25),
('2024-01-15 09:05:00', 112.9, 25),
('2024-01-15 09:10:00', 115.2, 25),
('2024-01-15 09:15:00', 118.5, 25),
('2024-01-15 09:20:00', 120.8, 25),
('2024-01-15 09:25:00', 122.3, 25),
('2024-01-15 09:00:00', 125.7, 26),
('2024-01-15 09:05:00', 127.4, 26),
('2024-01-15 09:10:00', 130.6, 26),
('2024-01-15 09:15:00', 132.9, 26),
('2024-01-15 09:20:00', 135.3, 26),
('2024-01-15 09:25:00', 138.1, 26),
('2024-01-15 09:00:00', 110.4, 27),
('2024-01-15 09:05:00', 112.7, 27),
('2024-01-15 09:10:00', 115.9, 27),
('2024-01-15 09:15:00', 118.6, 27),
('2024-01-15 09:20:00', 120.1, 27),
('2024-01-15 09:25:00', 122.5, 27),
('2024-01-15 09:00:00', 125.8, 28),
('2024-01-15 09:05:00', 127.3, 28),
('2024-01-15 09:10:00', 130.4, 28),
('2024-01-15 09:15:00', 132.6, 28),
('2024-01-15 09:20:00', 135.7, 28),
('2024-01-15 09:25:00', 138.0, 28),
('2024-01-15 09:00:00', 110.9, 29),
('2024-01-15 09:05:00', 112.2, 29),
('2024-01-15 09:10:00', 115.3, 29),
('2024-01-15 09:15:00', 118.4, 29),
('2024-01-15 09:20:00', 120.6, 29),
('2024-01-15 09:25:00', 122.9, 29),
('2024-01-15 09:00:00', 125.5, 30),
('2024-01-15 09:05:00', 127.8, 30),
('2024-01-15 09:10:00', 130.7, 30),
('2024-01-15 09:15:00', 132.4, 30),
('2024-01-15 09:20:00', 135.9, 30),
('2024-01-15 09:25:00', 138.5, 30),
('2024-01-15 09:00:00', 110.8, 31),
('2024-01-15 09:05:00', 112.5, 31),
('2024-01-15 09:10:00', 115.8, 31),
('2024-01-15 09:15:00', 118.7, 31),
('2024-01-15 09:20:00', 120.2, 31),
('2024-01-15 09:25:00', 122.6, 31),
('2024-01-15 09:00:00', 125.4, 32),
('2024-01-15 09:05:00', 127.1, 32),
('2024-01-15 09:10:00', 130.5, 32),
('2024-01-15 09:15:00', 132.3, 32),
('2024-01-15 09:20:00', 135.2, 32),
('2024-01-15 09:25:00', 138.6, 32),
('2024-01-15 09:00:00', 110.1, 33),
('2024-01-15 09:05:00', 112.4, 33),
('2024-01-15 09:10:00', 115.6, 33),
('2024-01-15 09:15:00', 118.3, 33),
('2024-01-15 09:20:00', 120.5, 33),
('2024-01-15 09:25:00', 122.7, 33),
('2024-01-15 09:00:00', 125.3, 34),
('2024-01-15 09:05:00', 127.2, 34),
('2024-01-15 09:10:00', 130.8, 34),
('2024-01-15 09:15:00', 132.1, 34),
('2024-01-15 09:20:00', 135.5, 34),
('2024-01-15 09:25:00', 138.7, 34),
('2024-01-15 09:00:00', 110.0, 35),
('2024-01-15 09:05:00', 112.8, 35),
('2024-01-15 09:10:00', 115.4, 35),
('2024-01-15 09:15:00', 118.1, 35),
('2024-01-15 09:20:00', 120.0, 35),
('2024-01-15 09:25:00', 122.2, 35);

-- Dados do dia 9 de janeiro
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-09 09:00:00', 110.0, 1),
('2024-01-09 09:05:00', 111.2, 2),
('2024-01-09 09:10:00', 80.4, 3),
('2024-01-09 09:15:00', 113.6, 4),
('2024-01-09 09:20:00', 90.8, 5),
('2024-01-09 09:25:00', 116.0, 6),
('2024-01-09 09:00:00', 100.2, 7),
('2024-01-09 09:05:00', 118.4, 8),
('2024-01-09 09:10:00', 80.6, 9),
('2024-01-09 09:15:00', 120.8, 10),
('2024-01-09 09:20:00', 80.0, 11),
('2024-01-09 09:25:00', 123.2, 12),
('2024-01-09 09:00:00', 124.4, 13),
('2024-01-09 09:05:00', 125.6, 14),
('2024-01-09 09:10:00', 126.8, 15);

-- Dados do dia 10 de janeiro
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-10 09:00:00', 100.5, 1),
('2024-01-10 09:05:00', 101.7, 2),
('2024-01-10 09:10:00', 102.9, 3),
('2024-01-10 09:15:00', 100.1, 4),
('2024-01-10 09:20:00', 105.3, 5),
('2024-01-10 09:25:00', 90.5, 6),
('2024-01-10 09:00:00', 70.7, 7),
('2024-01-10 09:05:00', 108.9, 8),
('2024-01-10 09:10:00', 90.1, 9),
('2024-01-10 09:15:00', 111.3, 10),
('2024-01-10 09:20:00', 112.5, 11),
('2024-01-10 09:25:00', 75.7, 12),
('2024-01-10 09:00:00', 114.9, 13),
('2024-01-10 09:05:00', 116.1, 14),
('2024-01-10 09:10:00', 117.3, 15);

-- Dados do dia 11 de janeiro
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-11 09:00:00', 101.0, 1),
('2024-01-11 09:05:00', 102.2, 2),
('2024-01-11 09:10:00', 103.4, 3),
('2024-01-11 09:15:00', 104.6, 4),
('2024-01-11 09:20:00', 100.8, 5),
('2024-01-11 09:25:00', 107.0, 6),
('2024-01-11 09:00:00', 108.2, 7),
('2024-01-11 09:05:00', 109.4, 8),
('2024-01-11 09:10:00', 110.6, 9),
('2024-01-11 09:15:00', 100.8, 10),
('2024-01-11 09:20:00', 113.0, 11),
('2024-01-11 09:25:00', 114.2, 12),
('2024-01-11 09:00:00', 115.4, 13),
('2024-01-11 09:05:00', 116.6, 14),
('2024-01-11 09:10:00', 117.8, 15);

-- Dados do dia 12 de janeiro
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-12 09:00:00', 100.8, 1),
('2024-01-12 09:05:00', 102.0, 2),
('2024-01-12 09:10:00', 90.2, 3),
('2024-01-12 09:15:00', 104.4, 4),
('2024-01-12 09:20:00', 105.6, 5),
('2024-01-12 09:25:00', 80.8, 6),
('2024-01-12 09:00:00', 108.0, 7),
('2024-01-12 09:05:00', 109.2, 8),
('2024-01-12 09:10:00', 110.4, 9),
('2024-01-12 09:15:00', 111.6, 10),
('2024-01-12 09:20:00', 75.8, 11),
('2024-01-12 09:25:00', 114.0, 12),
('2024-01-12 09:00:00', 85.2, 13),
('2024-01-12 09:05:00', 116.4, 14),
('2024-01-12 09:10:00', 117.6, 15);

-- Dados do dia 13 de janeiro
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-13 09:00:00', 101.1, 1),
('2024-01-13 09:05:00', 102.3, 2),
('2024-01-13 09:10:00', 103.5, 3),
('2024-01-13 09:15:00', 104.7, 4),
('2024-01-13 09:20:00', 105.9, 5),
('2024-01-13 09:25:00', 107.1, 6),
('2024-01-13 09:00:00', 108.3, 7),
('2024-01-13 09:05:00', 109.5, 8),
('2024-01-13 09:10:00', 110.7, 9),
('2024-01-13 09:15:00', 111.9, 10),
('2024-01-13 09:20:00', 113.1, 11),
('2024-01-13 09:25:00', 114.3, 12),
('2024-01-13 09:00:00', 115.5, 13),
('2024-01-13 09:05:00', 116.7, 14),
('2024-01-13 09:10:00', 117.9, 15);

-- Dados do dia 14 de janeiro
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-01-14 09:00:00', 101.4, 1),
('2024-01-14 09:05:00', 90.6, 2),
('2024-01-14 09:10:00', 103.8, 3),
('2024-01-14 09:15:00', 105.0, 4),
('2024-01-14 09:20:00', 106.2, 5),
('2024-01-14 09:25:00', 123.4, 6),
('2024-01-14 09:00:00', 108.6, 7),
('2024-01-14 09:05:00', 109.8, 8),
('2024-01-14 09:10:00', 90.0, 9),
('2024-01-14 09:15:00', 112.2, 10),
('2024-01-14 09:20:00', 100.4, 11),
('2024-01-14 09:25:00', 114.6, 12),
('2024-01-14 09:00:00', 115.8, 13),
('2024-01-14 09:05:00', 117.0, 14),
('2024-01-14 09:10:00', 100.2, 15);

-- Inserindo registros para os últimos meses com médias definidas
-- Fevereiro (média 85)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-02-05 09:00:00', 86.2, 2),
('2024-02-10 10:30:00', 84.5, 6),
('2024-02-15 12:15:00', 85.7, 10),
('2024-02-20 14:00:00', 83.9, 14),
('2024-02-25 16:30:00', 86.4, 18);

-- Março (média 97)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-03-05 08:30:00', 96.1, 3),
('2024-03-10 10:00:00', 98.5, 7),
('2024-03-15 11:45:00', 97.3, 11),
('2024-03-20 13:30:00', 95.8, 15),
('2024-03-25 15:10:00', 99.0, 19);

-- Abril (média 100)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-04-05 09:10:00', 101.3, 4),
('2024-04-10 10:25:00', 99.6, 8),
('2024-04-15 11:50:00', 100.5, 12),
('2024-04-20 13:15:00', 98.8, 16),
('2024-04-25 15:00:00', 101.7, 20);

-- Maio (média 93)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-05-05 08:00:00', 92.4, 5),
('2024-05-10 10:10:00', 93.8, 9),
('2024-05-15 12:30:00', 94.1, 13),
('2024-05-20 14:20:00', 92.7, 17),
('2024-05-25 16:45:00', 93.3, 21);

-- Junho (média 89)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-06-05 09:30:00', 88.2, 6),
('2024-06-10 11:00:00', 89.7, 10),
('2024-06-15 12:45:00', 90.1, 14),
('2024-06-20 14:30:00', 88.9, 18),
('2024-06-25 16:15:00', 89.3, 22);

-- Julho (média 110)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-07-05 08:45:00', 109.5, 7),
('2024-07-10 10:30:00', 111.2, 11),
('2024-07-15 12:20:00', 110.8, 15),
('2024-07-20 14:10:00', 109.1, 19),
('2024-07-25 16:40:00', 111.5, 23);

-- Agosto (média 100)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-08-05 09:15:00', 99.8, 8),
('2024-08-10 10:50:00', 101.0, 12),
('2024-08-15 11:35:00', 100.3, 16),
('2024-08-20 13:45:00', 99.2, 20),
('2024-08-25 15:25:00', 100.7, 24);

-- Setembro (média 96)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-09-05 09:05:00', 95.4, 9),
('2024-09-10 10:40:00', 96.8, 13),
('2024-09-15 11:30:00', 97.2, 17),
('2024-09-20 14:00:00', 95.7, 21),
('2024-09-25 16:10:00', 96.5, 25);

-- Outubro (média 117)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-10-05 08:55:00', 116.2, 10),
('2024-10-10 10:35:00', 118.1, 14),
('2024-10-15 11:45:00', 117.5, 18),
('2024-10-20 13:20:00', 116.9, 22),
('2024-10-25 15:50:00', 117.3, 26);

-- Novembro (média 93)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-11-05 09:10:00', 92.8, 11),
('2024-11-10 10:45:00', 93.2, 15),
('2024-11-15 12:00:00', 94.1, 19),
('2024-11-20 14:35:00', 93.5, 23),
('2024-11-25 16:20:00', 92.9, 27);

-- Dezembro (média 101)
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2024-12-05 08:30:00', 100.5, 12),
('2024-12-10 10:20:00', 101.7, 16),
('2024-12-15 11:40:00', 102.3, 20),
('2024-12-20 14:10:00', 100.8, 24),
('2024-12-25 16:45:00', 101.1, 28);


-- Ano 2022
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2022-03-15 09:00:00', 115.2, 1),
('2022-05-20 10:15:00', 122.3, 5),
('2022-07-10 14:45:00', 125.8, 10),
('2022-08-25 16:00:00', 135.2, 15),
('2022-10-05 18:30:00', 140.5, 20),
('2022-12-18 20:00:00', 145.1, 25),
('2022-01-22 08:30:00', 112.0, 30),
('2022-04-14 11:45:00', 118.4, 12),
('2022-06-30 13:30:00', 121.6, 7),
('2022-11-11 09:50:00', 130.9, 3);

-- Ano 2023
INSERT INTO Registro (dataHora, Temperatura, fkMaquina) VALUES
('2023-01-15 08:30:00', 70.3, 2),
('2023-03-18 09:45:00', 70.8, 6),
('2023-05-21 15:20:00', 70.4, 8),
('2023-07-27 17:00:00', 130.7, 14),
('2023-08-13 19:10:00', 70.2, 18),
('2023-10-02 21:45:00', 142.5, 23),
('2023-12-11 07:30:00', 115.9, 26),
('2023-02-22 11:15:00', 120.6, 11),
('2023-04-08 12:40:00', 128.3, 4),
('2023-09-30 16:25:00', 135.1, 17);

-- VIEW
<<<<<<< HEAD
CREATE VIEW RegistroMaquina
as
SELECT r.temperatura as Temperatura, r.dataHora as Horário, m.nome as Máquina, fkMaquina, fkSetor,
CASE
WHEN Temperatura < 100
THEN 'Resfriamento'
WHEN Temperatura < 140
THEN 'OK'
ELSE 'Superaquecimento'
END AS Stats
FROM Registro as r
JOIN Maquina as m
ON r.fkMaquina = m.idMaquina;
=======
>>>>>>> 463b6356ad12944097036cd4f6701a88b2eaf16e
